# ユーザーガイド: roo code ブーメランモード

このドキュメントでは、roo code のブーメランモードを効果的に活用するためのユーザー向けの心構えと実施事項、留意点をまとめています。

## 基本的な流れ

roo code のブーメランモードは、複数の AI モードが連携して開発タスクを自動化するシステムです。ユーザーの主な役割は以下の通りです：

1. 仕様書の作成
2. 開発プロジェクトの初期作成
3. GitHub イシューの作成
4. AI-P へのタスク指示
5. 必要に応じた質問応答や補足説明
6. 最終成果物の確認と受け入れ

## 準備フェーズでのユーザーの役割

### 1. 仕様書の作成

- Claude desktop を使用して仕様書を作成してください
- 要件や機能を明確かつ詳細に記述してください
- 非機能要件（パフォーマンス、セキュリティなど）も忘れずに記載してください
- 制約条件や前提条件も明記してください

### 2. 開発プロジェクトの初期作成

- 開発環境のセットアップはユーザー自身で行ってください
- Git リポジトリの初期化と GitHub へのプッシュを行ってください
- 必要な初期ファイル（README.md, .gitignore など）を作成してください

### 3. GitHub イシューの作成

- タスクの内容を詳細に記載したイシューを作成してください
- 仕様書の内容をイシューに転記するか、リンクとして添付してください
- 適切なラベルやマイルストーンを設定してください
- **重要**: 一つのタスクにつき一つのイシューのみを使用します

## AI-P への指示方法

### 基本的な指示方法

1. AI-P モードを起動します
2. 以下の形式で指示を行います：
   ```
   タスクを依頼します。
   イシューURL: [GitHubイシューのURL]
   ```
3. AI-P がイシューの内容を読み取り、タスクを開始します

### 効果的な指示のコツ

- イシューの URL は正確に伝えてください
- 追加の説明が必要な場合は、簡潔に要点をまとめてください
- 優先事項や特別な要件があれば明示してください
- タスクの期限や重要度についても伝えると良いでしょう

## モード切り替え時の留意点

- 通常は AI-P がモード切り替えを指示しますが、必要に応じてユーザーが直接モードを切り替えることもできます
- モードを切り替える際は、以下の形式で指示してください：
  ```
  [切り替え先のモード名]に切り替えてください。
  イシューURL: [GitHubイシューのURL]
  ```
- 特定のモードに直接質問したい場合は、そのモードに切り替えてから質問してください
- 作業の途中でモードを切り替えると、進行中のタスクが中断される可能性があるため注意してください

## 各 AI モードへの質問・指示方法

### AI-P（進捗管理エージェント）

- タスクの進捗状況に関する質問
- 次のステップや全体の工程に関する質問
- 問題発生時の相談や判断の依頼

### AI-A（分析・技術選定・環境準備エージェント）

- 選定された技術スタックに関する質問
- プロジェクト構造に関する質問や変更の相談
- 技術選定の根拠や代替案に関する相談
- **重要**: 各 AI モード（AI-A/AI-T/AI-D/AI-Q）から不明点についての質問がある場合は、具体的な情報と決定権を持って回答してください（特殊ケースのみ）

### AI-T（テスト実装エージェント）

- テスト戦略や実装されたテストに関する質問
- テストカバレッジや追加テストに関する相談
- テスト実行方法に関する質問

### AI-D（機能実装エージェント）

- 実装された機能の詳細に関する質問
- コード構造や設計判断に関する質問
- 機能拡張や修正に関する相談

### AI-Q（品質チェック兼コードレビューエージェント）

- コード品質や評価基準に関する質問
- 改善要求の詳細や優先順位に関する相談
- Pull Request の内容や変更点に関する質問

## 各 AI モードからの情報確認依頼への対応

各 AI モード（AI-A、AI-T、AI-D、AI-Q）が作業時に不明点がある場合、特殊ケースとしてユーザーに確認が行われます。この場合の対応方法を説明します。

### 対応の基本フロー

1. 各 AI モードからイシュー上に「[モード名] 情報確認依頼」のコメントが投稿されます
2. コメント内容を確認し、不明点と必要な情報を理解します
3. イシューに直接コメントで回答を行います

### 効果的な回答のポイント

1. **明確な決定を提供する**

   - 曖昧さを残さず、ソリューションを明確に指示します
   - 「私の意見では...」「おそらく...」のような表現を避け、確定的な指示を出します

2. **根拠やソースを示す**

   - 可能な場合は、判断の根拠となる公式情報を提供します
   - 自分の経験に基づく判断であれば、その旨を明記します

3. **完全な情報を提供する**
   - AI-A が質問しているすべてのポイントに回答します
   - 関連する追加情報も必要に応じて提供します

### 各モードのプロンプトについての注意点

各 AI モードのプロンプトには、不明点についてユーザーに確認を求めることが指示されています。これは重要な変更点です。

- 以前は不明点を AI-P（進捗管理エージェント）に確認していましたが、現在はユーザーに直接確認します
- これは、AI-P が羽相無いモデレータの役割に難があったための改善です
- 不明点に対する回答は、最終的なご判断をユーザーが行う必要がある場合に限定するべきです

これにより、モード間の不要な切り替えが減り、ワークフローの効率が向上します。

### 回答フォーマット例

```markdown
## 情報確認依頼への回答

### 不明点に対する回答

- 【質問内容】 について: 【明確な回答】

### 決定理由

- 【決定した理由や根拠】

### 追加情報

- 【関連するその他の情報や注意点】

### 参考資料

- 【参照した資料名】: 【URL】（公式）
```

## 効果的なフィードバックの提供方法

- 明確かつ具体的なフィードバックを提供してください
- 問題点だけでなく、良い点も伝えるようにしてください
- 改善が必要な場合は、できるだけ具体的な方向性を示してください
- フィードバックはイシューのコメント内で行うことを推奨します

## トラブルシューティング

### よくある問題と解決策

1. **AI が指示を理解していない場合**

   - イシューの内容を再確認し、必要に応じて追加情報を提供してください
   - より明確かつ簡潔な言葉で指示を出し直してください

2. **モード切り替えがうまくいかない場合**

   - 明示的にモード名を指定して切り替えを依頼してください
   - 現在のモードを確認してから切り替えを指示してください

3. **イシューの URL が正しく認識されない場合**

   - URL の前後に余分な空白や記号がないか確認してください
   - 完全な URL を再度提供してください

4. **進捗が思ったより遅い場合**
   - タスクの複雑さによっては時間がかかる場合があります
   - 焦らずに、AI-P に進捗状況を確認してください

## ベストプラクティス

1. **明確な仕様書を作成する**

   - 曖昧さを排除し、具体的な要件を記載してください
   - 例や図表を活用して理解を助けてください

2. **一つのタスクを適切なサイズに分割する**

   - 大きすぎるタスクは複数の小さなタスクに分割してください
   - 各タスクは明確な成果物を持つようにしてください

3. **イシューを整理して管理する**

   - 適切なラベルやマイルストーンを設定してください
   - 関連するイシュー間のリンクを明示してください

4. **成果物を定期的に確認する**

   - 各フェーズの完了後に成果物を確認してください
   - 早期に問題を発見し、修正依頼を行ってください

5. **学習と改善を継続する**
   - 成功したアプローチと課題を記録してください
   - 次のプロジェクトに知見を活かしてください

以上のガイドラインに従って、roo code ブーメランモードを効果的に活用してください。
